-- ‚ö†Ô∏è Ch·∫°y trong LocalScript (StarterPlayerScripts ho·∫∑c StarterCharacterScripts)

-- √Çm thanh m·ªü ƒë·∫ßu
local static = Instance.new("Sound")
static.SoundId = "rbxassetid://18870782376"
static.Parent = game.ReplicatedStorage
static.Name = "Se"
static.Pitch = 0.6
static.Volume = 1.5
static.TimePosition = 0.2
static:Play()

-- T·∫°o GUI c·∫£nh b√°o
local player = game.Players.LocalPlayer
local GUI = Instance.new("ScreenGui")
GUI.Name = "WarningGui"
GUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
GUI.IgnoreGuiInset = true
GUI.Parent = player:WaitForChild("PlayerGui")

local Image = Instance.new("ImageLabel")
Image.BackgroundColor3 = Color3.fromRGB(255,255,255)
Image.BackgroundTransparency = 1
Image.Size = UDim2.new(1,0,1,0)
Image.Image = "rbxassetid://15815325811" -- ·∫£nh c·∫£nh b√°o
Image.ImageTransparency = 0
Image.Parent = GUI

-- Ki·ªÉm tra di chuy·ªÉn
local standStillTime = 7
local moveDetected = false
local char = player.Character or player.CharacterAdded:Wait()
local humanoid = char:WaitForChild("Humanoid")

for i = 1, standStillTime * 10 do
	task.wait(0.1)
	if humanoid.MoveDirection.Magnitude > 0 then
		moveDetected = true
		break
	end
end

if moveDetected then
	-- üßπ X√≥a GUI c·∫£nh b√°o
	if GUI and GUI.Parent then
		GUI:Destroy()
	end

	-- GUI jumpscare
	local jumpscareGUI = Instance.new("ScreenGui")
	jumpscareGUI.Name = "JumpscareGui"
	jumpscareGUI.IgnoreGuiInset = true
	jumpscareGUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	jumpscareGUI.Parent = player:WaitForChild("PlayerGui")

	local face = Instance.new("ImageLabel")
	face.BackgroundTransparency = 1
	face.Size = UDim2.new(1, 0, 1, 0)
	face.Image = "rbxassetid://80379287378581" -- ‚ö†Ô∏è Thay b·∫±ng ID h√¨nh jumpscare
	face.ImageTransparency = 0
	face.Parent = jumpscareGUI

	-- √Çm thanh jumpscare
	local jumpSound = Instance.new("Sound")
	jumpSound.SoundId = "rbxassetid://18564431123" -- ‚ö†Ô∏è Thay b·∫±ng ID √¢m thanh jumpscare
	jumpSound.Volume = 2
	jumpSound.Parent = jumpscareGUI
	jumpSound:Play()

	-- G√¢y s√°t th∆∞∆°ng sau 2 gi√¢y
	task.wait(2)
	humanoid:TakeDamage(100)

	-- ƒê·∫∑t nguy√™n nh√¢n c√°i ch·∫øt
	local stats = game.ReplicatedStorage:FindFirstChild("GameStats")
	if stats then
		local deathCause = stats:FindFirstChild("Player_".. player.Name)
		if deathCause then
			deathCause.Total.DeathCause.Value = "Admiration"
		end
	end

	-- Hi·ªán hint c√°i ch·∫øt
	firesignal(game.ReplicatedStorage.RemotesFolder.DeathHint.OnClientEvent,
		{"You died to who you call Admiration.", "Try your best to not move at all.", "He can sense you with sound."},
		"Blue"
	)

	-- Xo√° GUI jumpscare sau khi ch·∫øt
	humanoid.Died:Connect(function()
		task.wait(1)
		if jumpscareGUI and jumpscareGUI.Parent then
			jumpscareGUI:Destroy()
		end
	end)
else
	-- N·∫øu kh√¥ng di chuy·ªÉn, xo√° c·∫£nh b√°o sau 1 gi√¢y
	task.wait(1)
	if GUI and GUI.Parent then
		GUI:Destroy()
	end
end
