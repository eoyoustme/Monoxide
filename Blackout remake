-- Tạo hiệu ứng âm thanh mở đầu
local static = Instance.new("Sound")
static.SoundId = "rbxassetid://18870782376"
static.Parent = game.ReplicatedStorage
static.Name = "Se"
static.Pitch = 0.6
static.Volume = 1.5
static.TimePosition = 0.2
static:Play()

-- Tạo GUI cảnh báo
local player = game.Players.LocalPlayer
local GUI = Instance.new("ScreenGui")
GUI.Name = "WarningGui"
GUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
GUI.IgnoreGuiInset = true
GUI.Parent = player:WaitForChild("PlayerGui")

local Image = Instance.new("ImageLabel")
Image.BackgroundColor3 = Color3.fromRGB(255,255,255)
Image.BackgroundTransparency = 1
Image.Size = UDim2.new(1,0,1,0)
Image.Image = "rbxassetid://15815325811"
Image.ImageTransparency = 0
Image.Parent = GUI

-- Thời gian đứng yên yêu cầu
local standStillTime = 7
local moveDetected = false
local char = player.Character or player.CharacterAdded:Wait()
local humanoid = char:WaitForChild("Humanoid")

-- Kiểm tra chuyển động liên tục trong thời gian yêu cầu
for i = 1, standStillTime * 10 do
	wait(0.1)
	if humanoid.MoveDirection.Magnitude > 0 then
		moveDetected = true
		break
	end
end

if moveDetected then
	-- GUI Jumpscare
	local jumpscareGUI = Instance.new("ScreenGui")
	jumpscareGUI.Name = "JumpscareGui"
	jumpscareGUI.IgnoreGuiInset = true
	jumpscareGUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	jumpscareGUI.Parent = player:WaitForChild("PlayerGui")

	local face = Instance.new("ImageLabel")
	face.BackgroundTransparency = 1
	face.Size = UDim2.new(1, 0, 1, 0)
	face.Image = "rbxassetid://15815525891" -- ⚠️ Đảm bảo ID này là hình jumpscare hợp lệ
	face.ImageTransparency = 0
	face.Parent = jumpscareGUI

	-- Âm thanh jumpscare
	local jumpSound = Instance.new("Sound")
	jumpSound.SoundId = "rbxassetid://18564431123" -- ⚠️ Đảm bảo ID âm thanh hợp lệ
	jumpSound.Volume = 2
	jumpSound.Parent = jumpscareGUI
	jumpSound:Play()

	-- Chờ 2 giây để hiện jumpscare
	wait(2)

	-- Gây chết người chơi
	humanoid:TakeDamage(100)

	-- Death screen
	local stats = game.ReplicatedStorage.GameStats:FindFirstChild("Player_".. player.Name)
	if stats then
		stats.Total.DeathCause.Value = "Admiration"
	end

	firesignal(game.ReplicatedStorage.RemotesFolder.DeathHint.OnClientEvent,
		{"You died to who you call Admiration.", "Try your best to not move at all.", "He can sense you with sound."},
		"Blue"
	)
else
	-- Nếu đứng yên thì xóa GUI sau 1 giây
	wait(1)
	GUI:Destroy()
end
