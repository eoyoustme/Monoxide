-- Lighting effect
game.Lighting.MainColorCorrection.TintColor = Color3.fromRGB(61, 171, 98)
game.Lighting.MainColorCorrection.Contrast = 0.2
game.Lighting.MainColorCorrection.Saturation = -0.7

local TweenService = game:GetService("TweenService")
TweenService:Create(game.Lighting.MainColorCorrection, TweenInfo.new(5), {Contrast = 0}):Play()
TweenService:Create(game.Lighting.MainColorCorrection, TweenInfo.new(5), {Saturation = 0}):Play()
TweenService:Create(game.Lighting.MainColorCorrection, TweenInfo.new(5), {TintColor = Color3.fromRGB(255, 255, 255)}):Play()

-- Sound setup
local cue1 = Instance.new("Sound", workspace)
cue1.Name = "Scream"
cue1.SoundId = "rbxassetid://97443546281701"
cue1.Volume = 0.1
Instance.new("DistortionSoundEffect", cue1).Level = 1
Instance.new("PitchShiftSoundEffect", cue1).Octave = 0.5
cue1:Play()

local cue2 = Instance.new("Sound", workspace)
cue2.Name = "Spawn"
cue2.SoundId = "rbxassetid://97443546281701"
cue2.Volume = 3
cue2:Play()

-- Camera shake setup
local CameraShaker = require(game.ReplicatedStorage.CameraShaker)
local camera = workspace.CurrentCamera
local camShake = CameraShaker.new(Enum.RenderPriority.Camera.Value, function(shakeCf)
	camera.CFrame = camera.CFrame * shakeCf
end)
camShake:Start()
camShake:ShakeOnce(10, 3, 0.1, 6, 2, 0.5)

-- Delay and speed setup
local speed = math.random(55, 75)
local delays = {"2", "2.5", "1.5", "1", "2.1"}
local selectedDelay = delays[math.random(1, #delays)]
wait(2.8)

-- Load and spawn 1 entity
local Creator = loadstring(game:HttpGet("https://raw.githubusercontent.com/DripCapybara/Doors-Mode-Remakes/refs/heads/main/ReboundSpawner.lua"))()

local entity = Creator.createEntity({
    CustomName = "Guestly",
    Model = "rbxassetid://12847597717",
    Speed = speed,
    DelayTime = selectedDelay,
    HeightOffset = 0.3,
    CanKill = true,
    BreakLights = false,
    KillRange = 25,
    BackwardsMovement = true,
    FlickerLights = {false, 2.5},
    Cycles = {Min = 1, Max = 1},
    CamShake = {true, {5, 15, 0.1, 1}, 100},
    Jumpscare = {
        true,
        {
            Image1 = "https://www.roblox.com/library/11862656491",
            Image2 = "https://www.roblox.com/library/11862656491",
            Shake = false,
            Sound1 = {0, {Volume = 0.5}},
            Sound2 = {5567523008, {Volume = 0.5}},
            Flashing = {true, Color3.fromRGB(6, 38, 135)},
            Tease = {false, Min = 1, Max = 3}
        }
    },
    CustomDialog = {"w"},
})

entity.Debug.OnEntitySpawned = function(model)
    print("Entity spawned:", model)
    wait(15)
    if workspace:FindFirstChild("Rebound") then
        workspace.Rebound:Destroy()
    end
end

entity.Debug.OnEntityDespawned = function(model)
    print("Entity despawned:", model)
    cue1:Destroy()
    cue2:Destroy()
end

entity.Debug.OnEntityStartMoving = function(model)
    print("Entity started moving:", model)
end

entity.Debug.OnDeath = function()
    warn("You died.")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/check78/Jumpscares/main/ReboundJumpscare.txt"))()
    wait(1.8)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/check78/GuidingLight/main/BoundDie.txt"))()
end

-- Run entity
Creator.runEntity(entity)
