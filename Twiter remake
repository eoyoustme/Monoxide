-- Check current room
local entityModel = true
local latestRoom = game.ReplicatedStorage.GameData.LatestRoom.Value

-- If in Seek, Figure, or Room 90+
if game.Workspace:FindFirstChild("SeekMovingNewClone") or 
   latestRoom == 50 or latestRoom == 100 or  
   (latestRoom >= 90 and latestRoom <= 100) then
    entityModel = false
end

local Kill = true
local depthsTer = game:GetObjects("rbxassetid://93714544847057")[1] -- Load DepthsTer from the ID
depthsTer.Parent = game.Workspace

local part = depthsTer:FindFirstChildWhichIsA("BasePart") or depthsTer:FindFirstChildWhichIsA("Part")

-- Set the position of DepthsTer in the room
part.CFrame = game.Workspace.CurrentRooms:GetChildren()[#game.Workspace.CurrentRooms:GetChildren() - 1].Parts.Floor.CFrame + Vector3.new(0, 6, 0)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid")
local HRP = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")

-- Store initial position to check movement
local initialPos = HRP.Position
local damageInterval = 0.7
local damageAmount = 10
local activeTime = 5 -- seconds

-- Coroutine to handle damage on movement
coroutine.wrap(function()
    local elapsedTime = 0
    while elapsedTime < activeTime do
        wait(damageInterval)
        if (HRP.Position - initialPos).magnitude > 0.5 then
            require(LocalPlayer.PlayerGui.MainUI.Initiator.Main_Game).caption("Đứng yên nếu không muốn mất máu!", true)
            if Humanoid then
                Humanoid.Health -= damageAmount
            end
        end
        elapsedTime += damageInterval
    end

    Kill = false
    depthsTer:Destroy()

    -- Show achievement
    local achievementGiver = loadstring(game:HttpGet("https://raw.githubusercontent.com/RegularVynixu/Utilities/main/Doors/Custom%20Achievements/Source.lua"))()
    achievementGiver({
        Title = "Lokk at me quangcat",
        Desc = "Last chance to not look at me",
        Reason = "Encounter Obsession",
        Image = "rbxassetid://97059893535136"
    })
end)()

-- Wait for room change (in case)
game.ReplicatedStorage.GameData.LatestRoom.Changed:Wait()
Kill = false
if depthsTer then
    depthsTer:Destroy()
end
